---
- tgt:
  commands:
  - set pipes out JSON stdout out bytes stderr in JSON stdin
  - set pipein out bytes stderr in JSON stdin
  - set pipeout out JSON stdout out bytes stderr
  - run loader pipeout program files2object rad radius.json imagename imagename.json ohist :[1,0,0,0,0,0,0,1] seed seed.json colormap colormap.json modelname basename.json count :50000 bitdepth :16 mapsize :900
  - run generate pipes program generatechanges
  - wait_data rad imagename ohist seed colormap modelname
  - feed generate input seed seed input count count input rad radius_min input rad radius_max input ohist offset_histogram
  - close generate
  - run render pipes program renderchanges
  - run color pipes program heightfield2color
  - run model pipes program heightfield2model
  - run write pipein program writeimage
  - run w_collada pipein program writecollada
  - run w_gltf pipein program writegltf
  - run w_glb pipein program writeglb
  - wait_data changes
  - feed render input mapsize size input changes changes
  - close render
  - wait_data heightfield
  - feed color input heightfield heightfield input colormap colormap
  - feed model input heightfield heightfield
  - close color model
  - wait_data image vertices tristrips
  - feed write input imagename filename input image image input bitdepth depth
  - feed w_collada input modelname filename input vertices vertices input tristrips tristrips
  - feed w_gltf input modelname filename input vertices vertices input tristrips tristrips
  - feed w_glb input modelname filename input vertices vertices input tristrips tristrips
  - close write w_collada w_gltf w_glb
  - wait_process 60 write w_collada w_gltf w_glb
